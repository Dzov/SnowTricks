{% extends('base.html.twig') %}

{% form_theme form 'form/file_upload_form_template.html.twig' %}

{% block body %}
    {% if trick.images is not empty %}
        {% set image = trick.images.first() %}
        {% if image.fileName is not null %}
            <div class="trick_header_image" style="background: url('/img/{{ asset(image.fileName) }}') center 30%; background-size: cover; height: 300px; width: auto">
                {% include('flash_messages.html.twig') %}
            </div>
        {% endif %}
    {% else %}
        {% include('flash_messages.html.twig') %}
    {% endif %}
    <section id="tricks_section" class="mx-md-5 my-md-3">
        <div class="modal-body">
            <div class="trick_edit_form d-flex flex-column my-4">
                <h3 class="text-md-center mb-4">Ajouter une figure</h3>
                {{ form_start(form, {'attr': {'class': 'd-flex flex-column'}}) }}
                <div class="form-group">
                    {% if form_errors(form.name) is not empty %}
                        <div class="alert alert-danger" role="alert">
                            {{ form_errors(form.name) }}
                        </div>
                    {% endif %}
                    {{ form_label(form.name) }}
                    {{ form_widget(form.name) }}
                </div>
                <div class="form-group">
                    {% if form_errors(form.description) is not empty %}
                        <div class="alert alert-danger" role="alert">
                            {{ form_errors(form.name) }}
                        </div>
                    {% endif %}
                    {{ form_label(form.description) }}
                    {{ form_widget(form.description) }}
                </div>
                <div class="form-group">
                    {% if form_errors(form.category) is not empty %}
                        <div class="alert alert-danger" role="alert">
                            {{ form_errors(form.category) }}
                        </div>
                    {% endif %}
                    {{ form_label(form.category) }}
                    {{ form_widget(form.category) }}
                </div>
                <div class="form-group">
                    {% if form_errors(form.images) is not empty %}
                        <div class="alert alert-danger" role="alert">
                            {{ form_errors(form.images) }}
                        </div>
                    {% endif %}
                    {{ form_label(form.images) }}
                    {{ form_widget(form.images) }}
                </div>
                <div class="controls d-flex justify-content-around mx-md-3 my-3">
                    <button type="submit" class="btn btn-success mr-md-3">Enregister</button>
                    <button class="btn btn-danger">Supprimer</button>
                </div>
                {{ form_end(form) }}

            </div>
        </div>
    </section>
{% endblock %}
